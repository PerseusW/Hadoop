# Homework 3

### 简述HDFS的基本特征。

​       PPT上给出的基本特征有：对顺序读进行了优化，支持大量数据的快速顺序读出，代价是对于随机访问的负载较高；支持数据的一次写入，多次读取；不支持已写入数据的更新操作；数据不进行本地缓存；基于块的文件存储，默认的块的大小是64MB，减少元数据的量，有利于顺序读写；多副本数据块形式存储，按照块的方式随机选择存储节点，默认副本数目是3。

​       个人概括：顺序读取很快，随机访问很慢；不能更新已写入数据，只能删去原有数据，重新写入；文件以块的形式存储；每个文件有多个副本。

### HDFS的可靠性是如何设计的？

​       首先，是对集群节点健康的监测。NameNode会定时检测DataNode的心跳以获得其运行状态，如果发现某一DataNode失效，则寻找新的节点替代，将失效节点数据重新分布。

其次，是集群的负载均衡。根据不同节点的运行状况，系统将调整分配给节点的存储任务以使得集群的负载相对“公平”，从而降低集群节点的失效概率。

第三，是数据一致性。节点会通过校验和检测存储在该节点上的文件是否“完好”，用以保证各个副本之间的数据是一致的。

​       最后，是主节点元数据失效的出错恢复。一种方案是将NameNode重启后还原到之前的某个快照；最常用的方案是为NameNode配备一个SecondaryNameNode用以承接工作。

### 简述Google MapReduce的主要功能和设计思想。

​       GMP的主要功能有：任务调度；数据/代码互定位；出错处理；分布式数据存储与文件管理；Combiner和Partitioner。

​       GMP的主要设计思想有：Scale-out；失效为常态；代码向数据迁移；顺序处理数据；隐藏系统层细节；平滑无缝的可扩展性

### 简述Hadoop MapReduce架构v1.0和v2.0的主要区别。

​       从直观上，v2.0比v1.0多出了YARN组件。

​       从系统架构上，YARN的出现使得Hadoop框架的耦合性，尤其是MapReduce的耦合性降低。MapReduce模块不用再自己实现资源管理，而可以将注意力全部放在数据处理上，亦即它的名字原本所代表的含义。同时，YARN也将其他模块的资源管理任务归拢到自己身上，为系统上层开发提供便捷。

### 对照Google BigTable的数据模型，简述HBase的基本数据模型

​       与Google的BigTable类似，HBase的表中的数据通过一个行关键字，一个列关键字和一个时间戳进行索引和查询定位。言外之意，二者在多维表的设计上是一致的，即 行关键字，列关键字，时间戳。

​       不同的是，HBase是按照列存储的稀疏行/列矩阵，值为空的列不与存储。